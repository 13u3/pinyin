<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>Pinyin - 更准确的PHP汉字转拼音解决方案。by overtrue </title>
    <meta name="keyword" content="Pinyin,汉字转拼音,中文转拼音, PHP,overtrue,安正超">
    <mata name="description" content="overtrue/pinyin - 基于CC-CEDICT词典的中文转拼音工具, 更准确的PHP汉字转拼音解决方案。 ">
    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/pygment_trac.css">
    <script src="javascripts/scale.fix.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">

    <!--[if lt IE 9]>
        /*
     HTML5 Shiv v3.7.0 | @afarkas @jdalton @jon_neal @rem | MIT/GPL2 Licensed
    */
    (function(l,f){function m(){var a=e.elements;return"string"==typeof a?a.split(" "):a}function i(a){var b=n[a[o]];b||(b={},h++,a[o]=h,n[h]=b);return b}function p(a,b,c){b||(b=f);if(g)return b.createElement(a);c||(c=i(b));b=c.cache[a]?c.cache[a].cloneNode():r.test(a)?(c.cache[a]=c.createElem(a)).cloneNode():c.createElem(a);return b.canHaveChildren&&!s.test(a)?c.frag.appendChild(b):b}function t(a,b){if(!b.cache)b.cache={},b.createElem=a.createElement,b.createFrag=a.createDocumentFragment,b.frag=b.createFrag();
    a.createElement=function(c){return!e.shivMethods?b.createElem(c):p(c,a,b)};a.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+m().join().replace(/[\w\-]+/g,function(a){b.createElem(a);b.frag.createElement(a);return'c("'+a+'")'})+");return n}")(e,b.frag)}function q(a){a||(a=f);var b=i(a);if(e.shivCSS&&!j&&!b.hasCSS){var c,d=a;c=d.createElement("p");d=d.getElementsByTagName("head")[0]||d.documentElement;c.innerHTML="x<style>article,aside,dialog,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}mark{background:#FF0;color:#000}template{display:none}</style>";
    c=d.insertBefore(c.lastChild,d.firstChild);b.hasCSS=!!c}g||t(a,b);return a}var k=l.html5||{},s=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,r=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,j,o="_html5shiv",h=0,n={},g;(function(){try{var a=f.createElement("a");a.innerHTML="<xyz></xyz>";j="hidden"in a;var b;if(!(b=1==a.childNodes.length)){f.createElement("a");var c=f.createDocumentFragment();b="undefined"==typeof c.cloneNode||
    "undefined"==typeof c.createDocumentFragment||"undefined"==typeof c.createElement}g=b}catch(d){g=j=!0}})();var e={elements:k.elements||"abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output progress section summary template time video",version:"3.7.0",shivCSS:!1!==k.shivCSS,supportsUnknownElements:g,shivMethods:!1!==k.shivMethods,type:"default",shivDocument:q,createElement:p,createDocumentFragment:function(a,b){a||(a=f);
    if(g)return a.createDocumentFragment();for(var b=b||i(a),c=b.frag.cloneNode(),d=0,e=m(),h=e.length;d<h;d++)c.createElement(e[d]);return c}};l.html5=e;q(f)})(this,document);
    <![endif]-->
  </head>
  <body>
    <div class="wrapper">
      <header>
        <h1>Pinyin</h1>
        <p>基于词库的中文转拼音优质解决方案</p>
        <p class="view"><a href="https://github.com/overtrue/pinyin">View the Project on GitHub <small>overtrue/pinyin</small></a></p>
        <ul>
          <li><a href="https://github.com/overtrue/pinyin/zipball/master">下载 <strong>zip</strong></a></li>
          <li><a href="https://github.com/overtrue/pinyin/tarball/master">下载 <strong>tar</strong></a></li>
          <li><a href="https://github.com/overtrue/pinyin">源码<strong>GitHub</strong></a></li>
        </ul>
      </header>
      <section>
        <h1>
<a name="pinyin-" class="anchor" href="#pinyin-"><span class="octicon octicon-link"></span></a>Pinyin <a href="https://travis-ci.org/overtrue/pinyin"><img src="https://travis-ci.org/overtrue/pinyin.svg?branch=master" alt="Build Status"></a>
</h1>

<p>基于CC-CEDICT词典的中文转拼音工具, 更准确的汉字转拼音解决方案。 <a href="http://cc-cedict.org/wiki/">CC-CEDICT</a>.</p>

<div class="highlight highlight-php"><pre><span class="k">use</span> <span class="nx">\Overtrue\Pinyin\Pinyin</span><span class="p">;</span> <span class="c1">//请注意1.x系列的命名空间不同</span>

<span class="k">echo</span> <span class="nx">Pinyin</span><span class="o">::</span><span class="na">pinyin</span><span class="p">(</span><span class="s1">'带着希望去旅行，比到达终点更美好'</span><span class="p">);</span>
<span class="c1">// dài zhe xī wàng qù lǔ xíng bǐ dào dá zhōng diǎn gèng měi hǎo</span>

<span class="c1">//多音字</span>
<span class="c1">// 了</span>
<span class="nx">Pinyin</span><span class="o">::</span><span class="na">pinyin</span><span class="p">(</span><span class="s1">'了然'</span><span class="p">);</span> <span class="c1">// liǎo rán</span>
<span class="nx">Pinyin</span><span class="o">::</span><span class="na">pinyin</span><span class="p">(</span><span class="s1">'来了'</span><span class="p">);</span> <span class="c1">// lái le</span>

<span class="c1">// 还</span>
<span class="nx">Pinyin</span><span class="o">::</span><span class="na">pinyin</span><span class="p">(</span><span class="s1">'还有'</span><span class="p">);</span> <span class="c1">// hái yǒu</span>
<span class="nx">Pinyin</span><span class="o">::</span><span class="na">pinyin</span><span class="p">(</span><span class="s1">'交还'</span><span class="p">);</span> <span class="c1">// jiāo huán</span>

<span class="c1">// 什</span>
<span class="nx">Pinyin</span><span class="o">::</span><span class="na">pinyin</span><span class="p">(</span><span class="s1">'什么'</span><span class="p">);</span> <span class="c1">// shén me</span>
<span class="nx">Pinyin</span><span class="o">::</span><span class="na">pinyin</span><span class="p">(</span><span class="s1">'什锦'</span><span class="p">);</span> <span class="c1">// shí jǐn</span>

<span class="c1">// 便</span>
<span class="nx">Pinyin</span><span class="o">::</span><span class="na">pinyin</span><span class="p">(</span><span class="s1">'便当'</span><span class="p">);</span> <span class="c1">// biàn dāng</span>
<span class="nx">Pinyin</span><span class="o">::</span><span class="na">pinyin</span><span class="p">(</span><span class="s1">'便宜'</span><span class="p">);</span> <span class="c1">// pián yí</span>

<span class="c1">// 剥</span>
<span class="nx">Pinyin</span><span class="o">::</span><span class="na">pinyin</span><span class="p">(</span><span class="s1">'剥皮'</span><span class="p">);</span> <span class="c1">// bāo pí</span>
<span class="nx">Pinyin</span><span class="o">::</span><span class="na">pinyin</span><span class="p">(</span><span class="s1">'剥皮器'</span><span class="p">);</span> <span class="c1">// bō pí qì</span>

<span class="c1">// 不</span>
<span class="nx">Pinyin</span><span class="o">::</span><span class="na">pinyin</span><span class="p">(</span><span class="s1">'赔不是'</span><span class="p">);</span> <span class="c1">// péi bú shi</span>
<span class="nx">Pinyin</span><span class="o">::</span><span class="na">pinyin</span><span class="p">(</span><span class="s1">'跑了和尚，跑不了庙'</span><span class="p">);</span> <span class="c1">// pǎo le hé shàng , pǎo bù liǎo miào</span>

<span class="c1">// 降</span>
<span class="nx">Pinyin</span><span class="o">::</span><span class="na">pinyin</span><span class="p">(</span><span class="s1">'降温'</span><span class="p">);</span> <span class="c1">// jiàng wēn</span>
<span class="nx">Pinyin</span><span class="o">::</span><span class="na">pinyin</span><span class="p">(</span><span class="s1">'投降'</span><span class="p">);</span> <span class="c1">// tóu xiáng</span>

<span class="c1">// 都</span>
<span class="nx">Pinyin</span><span class="o">::</span><span class="na">pinyin</span><span class="p">(</span><span class="s1">'首都'</span><span class="p">);</span> <span class="c1">// shǒu dū</span>
<span class="nx">Pinyin</span><span class="o">::</span><span class="na">pinyin</span><span class="p">(</span><span class="s1">'都什么年代了'</span><span class="p">);</span> <span class="c1">// dōu shén me nián dài le</span>

<span class="c1">// 乐</span>
<span class="nx">Pinyin</span><span class="o">::</span><span class="na">pinyin</span><span class="p">(</span><span class="s1">'快乐'</span><span class="p">);</span> <span class="c1">// kuài lè</span>
<span class="nx">Pinyin</span><span class="o">::</span><span class="na">pinyin</span><span class="p">(</span><span class="s1">'音乐'</span><span class="p">);</span> <span class="c1">// yīn yuè</span>

<span class="c1">// 长</span>
<span class="nx">Pinyin</span><span class="o">::</span><span class="na">pinyin</span><span class="p">(</span><span class="s1">'成长'</span><span class="p">);</span> <span class="c1">// chéng zhǎng</span>
<span class="nx">Pinyin</span><span class="o">::</span><span class="na">pinyin</span><span class="p">(</span><span class="s1">'长江'</span><span class="p">);</span> <span class="c1">// cháng jiāng</span>

<span class="c1">// 难</span>
<span class="nx">Pinyin</span><span class="o">::</span><span class="na">pinyin</span><span class="p">(</span><span class="s1">'难民'</span><span class="p">);</span> <span class="c1">// nàn mín</span>
<span class="nx">Pinyin</span><span class="o">::</span><span class="na">pinyin</span><span class="p">(</span><span class="s1">'难过'</span><span class="p">);</span> <span class="c1">// nán guò</span>
<span class="o">...</span>

</pre></div>

<h1>
<a name="%E5%AE%89%E8%A3%85" class="anchor" href="#%E5%AE%89%E8%A3%85"><span class="octicon octicon-link"></span></a>安装</h1>

<ol>
<li>
<p>使用 Composer 安装:</p>

<pre><code>composer require overtrue/pinyin:2.*
</code></pre>

<p>或者在你的项目composer.json加入：</p>

<div class="highlight highlight-javascript"><pre><span class="p">{</span>
    <span class="s2">"require"</span><span class="o">:</span> <span class="p">{</span>
        <span class="s2">"overtrue/pinyin"</span><span class="o">:</span> <span class="s2">"2.*"</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</li>
<li><p>直接下载文件 <code>src/Pinyin/Pinyin.php</code> 引入到项目中。</p></li>
</ol><h1>
<a name="%E4%BD%BF%E7%94%A8" class="anchor" href="#%E4%BD%BF%E7%94%A8"><span class="octicon octicon-link"></span></a>使用</h1>

<div class="highlight highlight-php"><pre><span class="o">&lt;?</span><span class="nx">php</span>
<span class="k">use</span> <span class="nx">\Overtrue\Pinyin\Pinyin</span><span class="p">;</span>

<span class="c1">//获取拼音</span>
<span class="k">echo</span> <span class="nx">Pinyin</span><span class="o">::</span><span class="na">pinyin</span><span class="p">(</span><span class="s1">'带着希望去旅行，比到达终点更美好'</span><span class="p">);</span>
<span class="c1">// dài zhe xī wàng qù lǔ xíng bǐ dào dá zhōng diǎn gèng měi hǎo</span>

<span class="c1">//获取首字母</span>
<span class="k">echo</span> <span class="nx">Pinyin</span><span class="o">::</span><span class="na">letter</span><span class="p">(</span><span class="s1">'带着希望去旅行，比到达终点更美好'</span><span class="p">);</span>
<span class="c1">// D Z X W Q L X B D D Z D G M H</span>
</pre></div>

<h2>
<a name="%E8%AE%BE%E7%BD%AE" class="anchor" href="#%E8%AE%BE%E7%BD%AE"><span class="octicon octicon-link"></span></a>设置</h2>

<ul>
<li>
<code>delimiter</code> 分隔符，默认为一个空格 ' '；</li>
<li>
<code>traditional</code> 繁体</li>
<li>
<code>accent</code> 是否输出音调；</li>
<li>
<code>letter</code> 只输出首字母，或者直接使用<code>Pinyin::letter($string)</code>;</li>
<li>
<code>only_chinese</code> 只保留$string中中文部分。</li>
</ul><p><em>全局设置：</em>  <code>Pinyin::set('delimiter', '-');</code></p>

<p><em>临时设置：</em>  <code>Pinyin::pinyin($word, $settings)</code> 在调用的方法后传参</p>

<p>example:</p>

<div class="highlight highlight-php"><pre>
<span class="nx">Pinyin</span><span class="o">::</span><span class="na">set</span><span class="p">(</span><span class="s1">'delimiter'</span><span class="p">,</span> <span class="s1">'-'</span><span class="p">);</span><span class="c1">//全局</span>
<span class="k">echo</span> <span class="nx">Pinyin</span><span class="o">::</span><span class="na">pinyin</span><span class="p">(</span><span class="s1">'带着希望去旅行，比到达终点更美好'</span><span class="p">);</span>

<span class="c1">// dài-zhe-xī-wàng-qù-lǔ-xíng-bǐ-dào-dá-zhōng-diǎn-gèng-měi-hǎo</span>
</pre></div>

<div class="highlight highlight-php"><pre>
<span class="nv">$setting</span> <span class="o">=</span> <span class="p">[</span>
            <span class="s1">'delimiter'</span> <span class="o">=&gt;</span> <span class="s1">'-'</span><span class="p">,</span>
            <span class="s1">'accent'</span> <span class="o">=&gt;</span> <span class="k">false</span><span class="p">,</span>
           <span class="p">];</span>

<span class="k">echo</span> <span class="nx">Pinyin</span><span class="o">::</span><span class="na">pinyin</span><span class="p">(</span><span class="s1">'带着希望去旅行，比到达终点更美好'</span><span class="p">,</span> <span class="nv">$setting</span><span class="p">);</span><span class="c1">//这里的setting只是临时修改，并非全局设置</span>

<span class="c1">// dai-zhe-xi-wang-qu-lu-xing-bi-dao-da-zhong-dian-geng-mei-hao</span>
</pre></div>

<div class="highlight highlight-php"><pre><span class="nx">Pinyin</span><span class="o">::</span><span class="na">set</span><span class="p">(</span><span class="s1">'accent'</span><span class="p">,</span> <span class="k">false</span><span class="p">);</span>
<span class="k">echo</span> <span class="nx">Pinyin</span><span class="o">::</span><span class="na">pinyin</span><span class="p">(</span><span class="s1">'带着希望去旅行，比到达终点更美好'</span><span class="p">);</span>

<span class="c1">// dai zhe xi wang qu lu xing bi dao da zhong dian geng mei hao</span>
</pre></div>

<h1>
<a name="%E5%9C%A8laravel%E4%B8%AD%E4%BD%BF%E7%94%A8" class="anchor" href="#%E5%9C%A8laravel%E4%B8%AD%E4%BD%BF%E7%94%A8"><span class="octicon octicon-link"></span></a>在Laravel中使用</h1>

<pre lang="shell"><code>composer require overtrue/pinyin:2.*
</code></pre>

<p>在laravel配置文件中<code>app.php</code>里<code>providers</code>里加入:</p>

<div class="highlight highlight-php"><pre><span class="s1">'Overtrue\Pinyin\PinyinServiceProvider'</span><span class="p">,</span>
</pre></div>

<p>然后看起来可能是这样：</p>

<div class="highlight highlight-php"><pre>    <span class="s1">'providers'</span> <span class="o">=&gt;</span>
        <span class="c1">//...</span>
        <span class="s1">'Illuminate\Validation\ValidationServiceProvider'</span><span class="p">,</span>
        <span class="s1">'Illuminate\View\ViewServiceProvider'</span><span class="p">,</span>
        <span class="s1">'Overtrue\Pinyin\PinyinServiceProvider'</span><span class="p">,</span>
    <span class="p">],</span>
</pre></div>

<p>然后你可以添加配置文件：<code>config/pinyin.php</code>(<em>注意：此项为可选，如果不需要设置则不用创建此文件</em>):</p>

<div class="highlight highlight-php"><pre><span class="o">&lt;?</span><span class="nx">php</span>

<span class="k">return</span> <span class="p">[</span>
    <span class="s1">'delimiter'</span> <span class="o">=&gt;</span> <span class="s1">'-'</span><span class="p">,</span>
    <span class="s1">'accent'</span> <span class="o">=&gt;</span> <span class="k">false</span><span class="p">,</span>
    <span class="c1">//...</span>
<span class="p">];</span>
</pre></div>

<p>以上的设置会是全局的设置，如需临时设置请在方法里传参，例如:</p>

<div class="highlight highlight-php"><pre><span class="nx">Pinyin</span><span class="o">::</span><span class="na">letter</span><span class="p">(</span><span class="s1">'您好世界'</span><span class="p">,</span> <span class="p">[</span><span class="s1">'delimiter'</span> <span class="o">=&gt;</span> <span class="s1">'-'</span><span class="p">])</span><span class="p">;</span> <span class="c1">//N-H-S-J</span>
</pre></div>

<h3>
<a name="%E4%BD%BF%E7%94%A8-1" class="anchor" href="#%E4%BD%BF%E7%94%A8-1"><span class="octicon octicon-link"></span></a>使用</h3>

<p>与上面的使用方法一样：</p>

<div class="highlight highlight-php"><pre><code>use \Overtrue\Pinyin\Pinyin;

//...

$pinyin = Pinyin::pinyin("带着希望去旅行，比到达终点更美好");

</code></pre>
</div>

<h1>
<a name="%E8%AF%B4%E6%98%8E" class="anchor" href="#%E8%AF%B4%E6%98%8E"><span class="octicon octicon-link"></span></a>说明</h1>

<ul>
<li>1.x的命名空间是<code>\Overtrue</code>，2.x的命名空间是<code>\Overtrue\Pinyin</code>（之前的写法不规范 <img class="emoji" title=":see_no_evil:" alt=":see_no_evil:" src="https://assets-cdn.github.com/images/icons/emoji/unicode/1f648.png" height="20" width="20" align="absmiddle">）</li>
</ul><h1>
<a name="todo" class="anchor" href="#todo"><span class="octicon octicon-link"></span></a>TODO</h1>

<ul>
<li>[x] 添加获取首字母；</li>
<li>[x] 支持繁体；</li>
<li>[x] 添加补充词典；</li>
<li>[x] 添加词频字典，根据词频提高未匹配词典时多音字准确度；</li>
<li>[x] 添加Laravel的serviec provider.</li>
</ul><h1>
<a name="contribution" class="anchor" href="#contribution"><span class="octicon octicon-link"></span></a>Contribution</h1>

<p>欢迎提意见及完善补充词库 <code>src/Pinyin/data/additional.php</code>! <img class="emoji" title=":kiss:" alt=":kiss:" src="https://assets-cdn.github.com/images/icons/emoji/unicode/1f48b.png" height="20" width="20" align="absmiddle"></p>

<h1>
<a name="%E5%8F%82%E8%80%83" class="anchor" href="#%E5%8F%82%E8%80%83"><span class="octicon octicon-link"></span></a>参考</h1>

<ul>
<li><a href="http://cc-cedict.org/wiki/">CC-CEDICT</a></li>
<li><a href="http://mmc.sinica.edu.tw/intro_c_01.html">現代漢語語音語料庫</a></li>
<li><a href="http://www.zdic.net/">汉典</a></li>
</ul><h1>
<a name="license" class="anchor" href="#license"><span class="octicon octicon-link"></span></a>License</h1>

<p>MIT</p>
      </section>
    </div>
    <div class="sns-share">
      <i data-id="sina" class="icon">
          <svg><use xlink:href="images/sns.svg#icon-iconfont-sina" transform="translate(0 0)"></use></svg>
      </i>
      <i data-id="qzone" class="icon">
          <svg><use xlink:href="images/sns.svg#icon-iconfont-qzone" transform="translate(0 0)"></use></svg>
      </i>
      <i data-id="qq" class="icon">
          <svg><use xlink:href="images/sns.svg#icon-iconfont-qq" transform="translate(0 0)"></use></svg>
      </i>
      <i data-id="renren" class="icon">
          <svg><use xlink:href="images/sns.svg#icon-iconfont-renren" transform="translate(0 0)"></use></svg>
      </i>
      <i data-id="douban" class="icon">
          <svg><use xlink:href="images/sns.svg#icon-iconfont-douban" transform="translate(0 0)"></use></svg>
      </i>
    <footer>
      <p>Project maintained by <a href="https://github.com/overtrue">overtrue</a></p>
      <p>Hosted on GitHub Pages &mdash; Theme by <a href="https://github.com/orderedlist">orderedlist</a></p>
    </footer>
    <!--[if !IE]><script>fixScale(document);</script><![endif]-->
          <script src="javascripts/sns.js"></script>
          <script type="text/javascript">
              $(document).ready(function(){
                  var config = {
                    site   : 'overtrue at GitHub',//来源
                    pic    : 'http://overtrue.me/pinyin/images/pinyin.jpg',
                  }; /* 配置 */
                  SNS.init(config);
                  $('.sns-share i').click(function(){
                      SNS.share($(this).data('id'));
                  });
              });
          </script>
          <script type="text/javascript">
            var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
            document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
          </script>
          <script type="text/javascript">
            try {
              var pageTracker = _gat._getTracker("UA-55552116-1");
            pageTracker._trackPageview();
            } catch(err) {}
          </script>
</div>
  </body>
</html>
